<!DOCTYPE html>
{% load staticfiles %}
{% load i18n %}

<html lang="en">

<head>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>
{% block title %}{% endblock title %} | {{ project_name }}
</title>

<link rel="icon" href="{% static 'favicon.ico' %}">

{% block stylesheets %}

<link rel="stylesheet" href="{% static 'css/app.css' %}" />
<link rel="stylesheet" href="{% static 'css/fontawesome-all.css' %}" />

{% endblock stylesheets %}

{% block styles %}

<style>
.card .card-controls {
  display: flex;
  padding-top: 10px;
  padding-left: 10px;
  padding-right: 10px;
  justify-content: flex-end;
}
</style>
{% endblock styles %}

</head>

<body>

<div id="app-container">

{% block navbar %}
<nav class="navbar" role="navigation" aria-label="main navigation">

<div class="navbar-brand">

<a 
role="button" 
class="sidebar-trigger" 
aria-label="navbar-sidebar-trigger" 
@click.prevent="toggleSidebar"
>
<span></span>
<span></span>
<span></span>
</a>

<a class="navbar-item" href="{% url 'app:home' %}">
<img src="{% static 'images/cfs-logo.png' %}" alt="cfs-logo">
</a>

</div>

<div 
id="navbar-menu" 
class="navbar-menu"
ref="navbarMenu"
>

<div class="navbar-end">

{% include 'includes/_user_nav.html' %}

</div><!-- navbar-end -->

</div><!-- navbar-menu -->

</nav><!-- navbar -->

{% endblock navbar %}

{% block sidebar %}
<div id="sidebar-background" class="sidebar-background" @click="toggleSidebar(false)"></div>

<div
id="sidebar"
class="sidebar"
ref="sidebar"
>
<div class="sidebar-container">

<div class="sidebar-navbar">

<a 
role="button" 
class="sidebar-trigger" 
aria-label="sidebar-trigger" 
@click.prevent="toggleSidebar"
>
<span></span>
<span></span>
<span></span>
</a>

<a class="navbar-item" href="{% url 'app:home' %}">
<img src="{% static 'images/cfs-logo.png' %}" alt="cfs-logo">
</a>

</div>

<div class="sidebar-body">

{% block sidebar_nav_items %}

<div class="menu">

<p class="menu-label">
{% trans 'label_general' %}
</p>

<ul class="menu-list">
<li>
<a 
class="{% block home_link_active %}{% endblock home_link_active %}"
href="{% url 'app:home' %}"
>
<i class="fas fa-fw fa-home menu-icon"></i> {% trans 'label_home' %}
</a>
</li>
<li>
<a 
class="{% block projects_link_active %}{% endblock projects_link_active %}"
href="{% url 'reading:projects' %}"
>
<i class="fas fa-fw fa-project-diagram menu-icon"></i> {% trans 'label_projects' %}
</a>
</li>
</ul>

{% if user.is_authenticated and not request.session_obj %}

  <ul class="menu-list">
  <li>
  <a 
  class="{% block project_create_link_active %}{% endblock project_create_link_active %}"
  href="{% url 'reading:project_create' %}"
  >
  <i class="fas fa-fw fa-plus menu-icon"></i> {% trans 'label_new_project' %}
  </a>
  </li>
  </ul>

{% endif %}

</div>

{% endblock sidebar_nav_items %}

</div><!-- end sidebar-body -->

<div class="sidebar-footer">

</div>

</div>
</div><!-- end sidebar -->
{% endblock sidebar %}

{% block top_messages %}

<div id="messages">
{% include "includes/_messages.html" %}
</div><!-- messages -->

{% endblock top_messages %}

{% block content_top %}{% endblock content_top %}

<section class="section {% block main_section_classes %}{% endblock main_section_classes %}">
<div class="container">
{% block content %}{% endblock content %}
</div>
</section>

{% block page_footer %}{% endblock page_footer %}

{% block modal_content %}{% endblock modal_content %}

</div><!-- app-container -->

<script>
{% block python_to_javascript %}

var appSessionUrl = "{% url 'app:app_session' %}";

{% endblock python_to_javascript %}
</script>

{% block scripts %}
<script>
var sidebarExpanded = false;
</script>

<script src="{% static 'js/axios.min.js' %}"></script>
<script src="{% static 'js/ajax.js' %}"></script>
<script src="{% static 'js/vue.js' %}"></script>
<script src="{% static 'js/vue/plugins/modal.js' %}"></script>
<script src="{% static 'js/vue/core-components.js' %}"></script>
<script src="{% static 'js/vue/app-components.js' %}"></script>
<script src="{% static 'js/vue/reading-components.js' %}"></script>
<script src="{% static 'js/vue/directives/vue-scrollto.js' %}"></script>
<script src="{% static 'js/vue/app.js' %}"></script>
{% endblock scripts %}

</body>
</html>
